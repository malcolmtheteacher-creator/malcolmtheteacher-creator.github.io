<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Lesson 1: How Memory Actually Works</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: #0f0f1e;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(212,175,55,0.3);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #d4af37 0%, #aa8c2c 100%);
            color: #1a1a2e;
            padding: 30px;
            text-align: center;
        }
        .header h1 { font-size: 1.8em; margin-bottom: 10px; }
        .level-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
        }
        .tabs {
            display: flex;
            background: #16213e;
            overflow-x: auto;
            border-bottom: 2px solid #d4af37;
        }
        .tab {
            flex: 1;
            padding: 15px 10px;
            text-align: center;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 0.85em;
            font-weight: 600;
            color: #aaa;
            transition: all 0.3s;
            white-space: nowrap;
        }
        .tab:hover { background: #1a2744; }
        .tab.active {
            background: #d4af37;
            color: #1a1a2e;
            border-bottom: 3px solid #d4af37;
        }
        .content { padding: 30px; display: none; color: #e0e0e0; }
        .content.active { display: block; }
        .content h2 { color: #d4af37; margin-bottom: 20px; }
        .card {
            background: #1a2744;
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid #d4af37;
        }
        .card h3 { color: #d4af37; margin-bottom: 10px; }
        .card p { line-height: 1.6; }
        .memory-model {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        .model-box {
            background: linear-gradient(135deg, #2a3f5f 0%, #1a2744 100%);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid #d4af37;
        }
        .model-box h3 { color: #d4af37; font-size: 1.1em; margin-bottom: 10px; }
        .model-box p { font-size: 0.9em; }
        .arrow { text-align: center; color: #d4af37; font-size: 1.5em; }
        .interactive-section {
            background: #1a2744;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            border: 2px solid #d4af37;
        }
        .interactive-section h3 { color: #d4af37; margin-bottom: 15px; }
        .chunk-display {
            background: #0f0f1e;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 1.1em;
            text-align: center;
            border: 1px solid #d4af37;
        }
        .buttons-row {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        .btn-primary {
            background: #d4af37;
            color: #1a1a2e;
        }
        .btn-primary:hover { background: #e8c547; transform: translateY(-2px); }
        .btn-secondary {
            background: #2a3f5f;
            color: #d4af37;
            border: 1px solid #d4af37;
        }
        .btn-secondary:hover { background: #1a2744; }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .memory-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }
        .item-box {
            background: #2a3f5f;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #d4af37;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            font-size: 1.2em;
        }
        .item-box:hover { background: #1a2744; transform: scale(1.05); }
        .item-box.hidden { color: #1a1a2e; opacity: 0.3; }
        textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #d4af37;
            border-radius: 8px;
            background: #0f0f1e;
            color: #e0e0e0;
            font-size: 1em;
            font-family: Arial, sans-serif;
            resize: vertical;
            min-height: 100px;
        }
        textarea:focus { outline: none; border-color: #e8c547; }
        .timer-section {
            text-align: center;
            padding: 20px;
            background: #1a2744;
            border-radius: 12px;
            margin: 20px 0;
            border: 2px solid #d4af37;
        }
        .timer-display {
            font-size: 3em;
            font-weight: bold;
            color: #d4af37;
            margin: 15px 0;
        }
        .timer-display.warning { color: #ffc107; }
        .timer-display.danger { color: #ff6b6b; animation: pulse 1s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .feedback-box {
            background: #1a2744;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 2px solid #d4af37;
            display: none;
        }
        .feedback-box.correct { border-color: #51cf66; background: rgba(81, 207, 102, 0.1); }
        .feedback-box.incorrect { border-color: #ff6b6b; background: rgba(255, 107, 107, 0.1); }
        .feedback-box.show { display: block; }
        .score-display {
            background: linear-gradient(135deg, #d4af37 0%, #aa8c2c 100%);
            color: #1a1a2e;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            margin: 20px 0;
            font-weight: bold;
            font-size: 1.2em;
        }
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #2a3f5f;
        }
        .nav-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
        }
        .nav-btn.prev { background: #2a3f5f; color: #d4af37; }
        .nav-btn.next { background: #d4af37; color: #1a1a2e; }
        .nav-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .stat-box {
            background: linear-gradient(135deg, #d4af37 0%, #aa8c2c 100%);
            color: #1a1a2e;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
        }
        .hidden-content { display: none; }
        .hidden-content.revealed { display: block; }
        .click-hint { color: #d4af37; font-size: 0.85em; }
        @media (max-width: 768px) {
            .tab { padding: 12px 8px; font-size: 0.75em; }
            .header h1 { font-size: 1.4em; }
            .timer-display { font-size: 2.5em; }
            .memory-model { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <span class="level-badge">Memory Course - Lesson 1</span>
            <h1>üß† How Memory Actually Works</h1>
            <p>Understanding Encoding, Storage & Retrieval</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab(0)">1. RETRIEVAL</button>
            <button class="tab" onclick="showTab(1)">2. NEW CONTENT</button>
            <button class="tab" onclick="showTab(2)">3. GUIDED PRACTICE</button>
            <button class="tab" onclick="showTab(3)">4. ELABORATION</button>
            <button class="tab" onclick="showTab(4)">5. INDEPENDENT</button>
            <button class="tab" onclick="showTab(5)">6. FINAL RETRIEVAL</button>
        </div>

        <!-- TAB 1: RETRIEVAL -->
        <div class="content active" id="tab0">
            <h2>üîÑ What Do You Remember?</h2>
            <p style="margin-bottom: 20px;">Before we learn, let's test what you already know about memory. This helps your brain prepare!</p>

            <div class="timer-section">
                <h3>‚è±Ô∏è 2-Minute Free Recall</h3>
                <p>Write everything you know about how memory works:</p>
                <textarea id="priorKnowledge" placeholder="Write your response here..."></textarea>
                <button class="btn btn-primary" onclick="savePriorKnowledge()" style="margin-top: 10px;">‚úì Save My Thoughts</button>
            </div>

            <div class="card">
                <h3>üéØ What We'll Learn Today</h3>
                <ul style="margin-left: 20px; line-height: 2;">
                    <li>The 3 stages of memory (Encoding ‚Üí Storage ‚Üí Retrieval)</li>
                    <li>Why chunking helps you remember more</li>
                    <li>The "Magic Number" 7¬±2 capacity rule</li>
                    <li>Why some memories stick and others fade</li>
                </ul>
            </div>

            <div class="nav-buttons">
                <button class="nav-btn prev" disabled>‚Üê Previous</button>
                <button class="nav-btn next" onclick="showTab(1)">Next: Learn ‚Üí</button>
            </div>
        </div>

        <!-- TAB 2: NEW CONTENT -->
        <div class="content" id="tab1">
            <h2>üìö The Three Stages of Memory</h2>

            <div class="card">
                <h3>üé¨ How Your Memory Works (3 Steps)</h3>
                <p style="margin-bottom: 20px;">Like a movie camera, your memory captures, stores, and plays back information:</p>

                <div class="memory-model">
                    <div class="model-box">
                        <h3>1Ô∏è‚É£ ENCODING</h3>
                        <p><strong>Getting it IN</strong></p>
                        <p style="font-size: 0.85em; margin-top: 10px;">Converting information into a form your brain can use</p>
                        <p style="font-size: 0.8em; margin-top: 8px; color: #aaa;">Example: Reading a phone number</p>
                    </div>

                    <div class="arrow">‚Üí</div>

                    <div class="model-box">
                        <h3>2Ô∏è‚É£ STORAGE</h3>
                        <p><strong>Keeping it SAFE</strong></p>
                        <p style="font-size: 0.85em; margin-top: 10px;">Storing information in your brain over time</p>
                        <p style="font-size: 0.8em; margin-top: 8px; color: #aaa;">Example: Brain cells connect</p>
                    </div>

                    <div class="arrow">‚Üí</div>

                    <div class="model-box">
                        <h3>3Ô∏è‚É£ RETRIEVAL</h3>
                        <p><strong>Getting it OUT</strong></p>
                        <p style="font-size: 0.85em; margin-top: 10px;">Pulling stored information back to mind</p>
                        <p style="font-size: 0.8em; margin-top: 8px; color: #aaa;">Example: Recalling that phone number</p>
                    </div>
                </div>
            </div>

            <div class="interactive-section">
                <h3>üí° SMASHIN' SCOPE Methods Improve All 3 Stages</h3>
                <p style="margin-bottom: 15px;">Strong encoding ‚Üí Better storage ‚Üí Easier retrieval</p>
                <div class="card">
                    <p><strong>KEY INSIGHT:</strong> The more vivid and meaningful your ENCODING is, the better your brain STORES it, and the easier it is to RETRIEVE later. This is why boring memorization fails!</p>
                </div>
            </div>

            <div class="interactive-section">
                <h3>üß© Chunking: Group It to Remember More</h3>
                <p style="margin-bottom: 15px;">Try this: Can you remember this better as random letters or as chunks?</p>

                <div style="background: #0f0f1e; padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <p style="text-align: center; font-size: 1.3em; letter-spacing: 3px; margin-bottom: 10px;">F B I C I A N A S A</p>
                    <p style="text-align: center; color: #aaa;">vs</p>
                    <p style="text-align: center; font-size: 1.3em; letter-spacing: 3px; margin: 10px 0;">FBI CIA NASA</p>
                </div>

                <p style="margin-top: 15px;"><strong>CHUNKING WORKS:</strong> Same information, but grouped into meaningful chunks = easier to encode and remember!</p>
            </div>

            <div class="interactive-section">
                <h3>üî¢ The Magic Number: 7¬±2</h3>
                <p style="margin-bottom: 15px;">Your working memory can hold about 5-9 items at once. This is why phone numbers are chunked into parts:</p>
                <div style="background: #0f0f1e; padding: 15px; border-radius: 8px; text-align: center; font-size: 1.1em;">
                    (555) 123-4567 = 3 chunks, not 10 digits
                </div>
                <p style="margin-top: 15px;"><strong>Remember:</strong> More items = split into chunks!</p>
            </div>

            <div class="nav-buttons">
                <button class="nav-btn prev" onclick="showTab(0)">‚Üê Back</button>
                <button class="nav-btn next" onclick="showTab(2)">Next: Practice ‚Üí</button>
            </div>
        </div>

        <!-- TAB 3: GUIDED PRACTICE -->
        <div class="content" id="tab2">
            <h2>üéØ I DO, WE DO, YOU DO</h2>

            <div class="card">
                <h3>üìñ PART 1: I DO (Watch Me First)</h3>
                <p style="margin-bottom: 15px;">Here's how to chunk letters into acronyms:</p>
                <div style="background: #0f0f1e; padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <p style="margin: 10px 0;"><strong>Random letters:</strong> NFLMTVPBS</p>
                    <p style="margin: 10px 0;"><strong>Chunked:</strong> NFL MTV PBS</p>
                    <p style="margin: 10px 0; color: #d4af37;"><strong>NOW I can remember them!</strong></p>
                </div>
            </div>

            <div class="card">
                <h3>üë• PART 2: WE DO (Together)</h3>
                <p style="margin-bottom: 15px;">Let's chunk these letters together:</p>
                <div style="background: #0f0f1e; padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <p style="margin: 10px 0; font-size: 1.1em;"><strong>Your letters:</strong> USAFBICIADHS</p>
                </div>
                <p style="margin: 15px 0;"><strong>How would YOU chunk these?</strong> (Hint: What abbreviations do you know?)</p>
                <textarea id="chunkingPractice" placeholder="Type your response..." style="height: 80px;"></textarea>
                <button class="btn btn-primary" onclick="checkChunking()" style="margin-top: 10px;">Check My Answer</button>
                <div class="feedback-box" id="chunkingFeedback"></div>
            </div>

            <div class="card">
                <h3>üß™ PART 3: YOU DO (Your Turn)</h3>
                <p style="margin-bottom: 15px;">Try chunking these random numbers by grouping them meaningfully:</p>
                <div style="background: #0f0f1e; padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <p style="margin: 10px 0; font-size: 1.1em;"><strong>Numbers:</strong> 1999201020082016</p>
                </div>
                <p style="margin: 15px 0;"><strong>Hint:</strong> These might be years of important events. How would you chunk them?</p>
                <textarea id="numbersChunk" placeholder="Type your answer..." style="height: 80px;"></textarea>
                <button class="btn btn-primary" onclick="suggestChunking()" style="margin-top: 10px;">Show Possible Answer</button>
                <div class="feedback-box" id="numbersFeedback"></div>
            </div>

            <div class="nav-buttons">
                <button class="nav-btn prev" onclick="showTab(1)">‚Üê Back</button>
                <button class="nav-btn next" onclick="showTab(3)">Next: Elaboration ‚Üí</button>
            </div>
        </div>

        <!-- TAB 4: ELABORATION -->
        <div class="content" id="tab3">
            <h2>‚ùì Why Does This Work?</h2>
            <p style="margin-bottom: 20px;">Now it's time to explain your thinking. Self-explanation helps cement learning!</p>

            <div class="card">
                <h3>üí≠ Question 1: Why Does Chunking Help?</h3>
                <p style="margin-bottom: 15px;">Think about the brain's limits. Explain in your own words:</p>
                <textarea id="q1Answer" placeholder="Type your answer..." style="height: 90px;"></textarea>
                <button class="btn btn-secondary" onclick="explainQ1()" style="margin-top: 10px;">üí° Show Expert Answer</button>
                <div class="feedback-box" id="q1Feedback">
                    <p style="color: #d4af37;"><strong>Expert Explanation:</strong></p>
                    <p>Your working memory is limited (7¬±2 items). Instead of struggling with 9 separate items, chunking reduces the "load" to 3 meaningful units. Your brain uses LESS processing power, leaving more capacity for encoding the chunks deeply.</p>
                </div>
            </div>

            <div class="card">
                <h3>üí≠ Question 2: Why Can't You Just Repeat?</h3>
                <p style="margin-bottom: 15px;">Rote memorization (repeating) often fails. Why?</p>
                <textarea id="q2Answer" placeholder="Type your answer..." style="height: 90px;"></textarea>
                <button class="btn btn-secondary" onclick="explainQ2()" style="margin-top: 10px;">üí° Show Expert Answer</button>
                <div class="feedback-box" id="q2Feedback">
                    <p style="color: #d4af37;"><strong>Expert Explanation:</strong></p>
                    <p>Repetition without MEANING is boring‚Äîyour brain barely encodes it. But when you give information STRUCTURE (like chunks) and MEANING, you create multiple connections in your brain. More connections = stronger memory trace = easier retrieval.</p>
                </div>
            </div>

            <div class="card">
                <h3>üí≠ Question 3: Apply It to Your Life</h3>
                <p style="margin-bottom: 15px;">What's something YOU want to remember? How would you encode it better?</p>
                <textarea id="q3Answer" placeholder="Write your response here..." style="height: 90px;"></textarea>
                <button class="btn btn-primary" onclick="saveElaboration()" style="margin-top: 10px;">‚úì Save My Ideas</button>
            </div>

            <div class="nav-buttons">
                <button class="nav-btn prev" onclick="showTab(2)">‚Üê Back</button>
                <button class="nav-btn next" onclick="showTab(4)">Next: Independent ‚Üí</button>
            </div>
        </div>

        <!-- TAB 5: INDEPENDENT PRACTICE -->
        <div class="content" id="tab4">
            <h2>‚ö° Memory Challenge: Can You Remember?</h2>
            <p style="margin-bottom: 20px;">This is a real test of your memory. No cheating‚Äîblank screen phase coming!</p>

            <div class="card" id="studyPhase">
                <h3>üìç STUDY PHASE: Memorize These Items (60 seconds)</h3>
                <p style="margin-bottom: 20px; color: #d4af37;"><strong>Try to remember these 10 items. Chunk them if you can!</strong></p>

                <div class="memory-items" id="itemsDisplay">
                    <!-- Items will be generated by JavaScript -->
                </div>

                <div class="timer-section">
                    <div class="timer-display" id="studyTimer">60</div>
                    <button class="btn btn-primary" onclick="startStudyPhase()" id="startStudyBtn">‚ñ∂ START STUDY TIME</button>
                    <button class="btn btn-secondary" onclick="skipStudy()" style="margin-left: 10px;">‚è≠Ô∏è Skip to Recall</button>
                </div>
            </div>

            <div class="card" id="recallPhase" style="display: none;">
                <h3>üß† RECALL PHASE: Blank Screen Challenge</h3>
                <p style="margin-bottom: 15px; color: #d4af37;"><strong>The items are gone. Type what you remember:</strong></p>
                <textarea id="recallAnswer" placeholder="Type what you remember..." style="height: 120px;"></textarea>
                <button class="btn btn-primary" onclick="checkRecall()" style="margin-top: 10px;">üìä Check My Score</button>
            </div>

            <div class="card" id="scorePhase" style="display: none;">
                <h3>üìà Your Score</h3>
                <div class="score-display" id="scoreDisplay"></div>
                <div id="scoreDetails"></div>
            </div>

            <div class="nav-buttons">
                <button class="nav-btn prev" onclick="showTab(3)">‚Üê Back</button>
                <button class="nav-btn next" onclick="showTab(5)">Next: Final Test ‚Üí</button>
            </div>
        </div>

        <!-- TAB 6: FINAL RETRIEVAL -->
        <div class="content" id="tab5">
            <h2>üèÜ Final Retrieval: The Quiz</h2>
            <p style="margin-bottom: 20px;">Without looking back, answer these questions to test your learning:</p>

            <div class="card">
                <h3>‚ùì Question 1: The Three Stages</h3>
                <p style="margin-bottom: 15px;">Name and briefly explain the three stages of memory:</p>
                <textarea id="finalQ1" placeholder="Type your answer..." style="height: 80px;"></textarea>
            </div>

            <div class="card">
                <h3>‚ùì Question 2: Why Chunking Works</h3>
                <p style="margin-bottom: 15px;">Why does chunking help you remember more items?</p>
                <textarea id="finalQ2" placeholder="Type your answer..." style="height: 80px;"></textarea>
            </div>

            <div class="card">
                <h3>‚ùì Question 3: The Magic Number</h3>
                <p style="margin-bottom: 15px;">What is the "Magic Number" of working memory?</p>
                <textarea id="finalQ3" placeholder="Type your answer..." style="height: 60px;"></textarea>
            </div>

            <div class="card">
                <h3>‚ùì Question 4: Real-World Application</h3>
                <p style="margin-bottom: 15px;">Give one real example of how you'll use chunking in your life:</p>
                <textarea id="finalQ4" placeholder="Type your answer..." style="height: 80px;"></textarea>
            </div>

            <button class="btn btn-primary" onclick="submitFinal()" style="width: 100%; padding: 15px; font-size: 1.1em; margin-top: 20px;">‚úì Submit Final Answers</button>

            <div class="stat-box" id="completionMessage" style="display: none; margin-top: 20px;">
                <h3>üéâ Lesson Complete!</h3>
                <p>Great work! You now understand how memory actually works. Ready for Lesson 2?</p>
            </div>

            <div class="nav-buttons">
                <button class="nav-btn prev" onclick="showTab(4)">‚Üê Back</button>
                <button class="nav-btn next" disabled>Next Lesson ‚Üí</button>
            </div>
        </div>
    </div>

    <script>
        const ITEMS = ['Apple', 'Guitar', 'Mountain', 'Computer', 'Ocean', 'Clock', 'Book', 'Fire', 'Castle', 'Telescope'];
        let studentRecall = [];
        let timerInterval;
        let timeLeft = 60;

        function showTab(i) {
            document.querySelectorAll('.content').forEach((c, idx) => c.classList.toggle('active', idx === i));
            document.querySelectorAll('.tab').forEach((t, idx) => t.classList.toggle('active', idx === i));
        }

        function savePriorKnowledge() {
            const text = document.getElementById('priorKnowledge').value;
            localStorage.setItem('priorKnowledge', text);
            alert('‚úì Your thoughts saved! We\'ll compare them at the end.');
        }

        function checkChunking() {
            const answer = document.getElementById('chunkingPractice').value.toUpperCase();
            const fb = document.getElementById('chunkingFeedback');
            fb.classList.add('show', 'correct');
            fb.innerHTML = '<p style="color: #51cf66;"><strong>‚úì Great chunking!</strong></p><p>USA, FBI, CIA, DHS are all recognizable acronyms. By grouping the 12 letters into 4 meaningful chunks, you reduced the working memory load from 12 items to 4!</p>';
        }

        function suggestChunking() {
            const fb = document.getElementById('numbersFeedback');
            fb.classList.add('show');
            fb.innerHTML = '<p style="color: #d4af37;"><strong>Possible answer:</strong></p><p>1999 2010 2008 2016 (Four separate years, each a meaningful chunk)</p><p style="margin-top: 10px;">Or even better: Group by decade: (1999) and (2008, 2010, 2016) = "Old one" and "Recent ones"</p>';
        }

        function explainQ1() {
            document.getElementById('q1Feedback').classList.add('show');
        }

        function explainQ2() {
            document.getElementById('q2Feedback').classList.add('show');
        }

        function saveElaboration() {
            alert('‚úì Your personal application saved!');
        }

        function generateItems() {
            const display = document.getElementById('itemsDisplay');
            display.innerHTML = ITEMS.map(item => `<div class="item-box">${item}</div>`).join('');
        }

        function startStudyPhase() {
            generateItems();
            document.getElementById('startStudyBtn').disabled = true;
            timeLeft = 60;
            timerInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('studyTimer').textContent = timeLeft;
                if (timeLeft <= 10) document.getElementById('studyTimer').className = 'timer-display warning';
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    endStudyPhase();
                }
            }, 1000);
        }

        function endStudyPhase() {
            document.getElementById('studyPhase').style.display = 'none';
            document.getElementById('recallPhase').style.display = 'block';
            document.querySelectorAll('.item-box').forEach(box => {
                box.classList.add('hidden');
            });
        }

        function skipStudy() {
            clearInterval(timerInterval);
            endStudyPhase();
        }

        function checkRecall() {
            const answer = document.getElementById('recallAnswer').value;
            const itemsRecalled = answer.split(',').map(s => s.trim().toLowerCase()).filter(s => s);
            let correct = 0;
            itemsRecalled.forEach(item => {
                if (ITEMS.some(original => original.toLowerCase() === item)) {
                    correct++;
                }
            });

            const percentage = Math.round((correct / ITEMS.length) * 100);
            document.getElementById('scoreDisplay').textContent = `${correct}/${ITEMS.length} items (${percentage}%)`;

            let feedback = `<div class="card"><p><strong>Items you remembered:</strong> ${itemsRecalled.join(', ')}</p>`;
            feedback += `<p style="margin-top: 15px;"><strong>Items you missed:</strong> ${ITEMS.filter(i => !itemsRecalled.some(r => r === i.toLowerCase())).join(', ')}</p>`;
            feedback += `<p style="margin-top: 15px; color: #d4af37;"><strong>üí° Insight:</strong> Did you chunk them? If you grouped them by category (animals, objects, etc.), you likely remembered more!</p></div>`;

            document.getElementById('scoreDetails').innerHTML = feedback;
            document.getElementById('recallPhase').style.display = 'none';
            document.getElementById('scorePhase').style.display = 'block';
        }

        function submitFinal() {
            localStorage.setItem('finalQ1', document.getElementById('finalQ1').value);
            localStorage.setItem('finalQ2', document.getElementById('finalQ2').value);
            localStorage.setItem('finalQ3', document.getElementById('finalQ3').value);
            localStorage.setItem('finalQ4', document.getElementById('finalQ4').value);
            document.getElementById('completionMessage').style.display = 'block';
        }

        // Initialize
        generateItems();
    </script>
</body>
</html>
