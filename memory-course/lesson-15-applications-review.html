<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 15: Review & Integration Applications - The Art of Memory</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(212, 175, 55, 0.2);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #d4af37 0%, #c9a227 100%);
            color: #1a1a1a;
            padding: 40px;
            text-align: center;
        }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; }
        .header p { font-size: 1.1em; opacity: 0.9; }
        .tabs-container {
            display: flex;
            background: #f5f5f5;
            border-bottom: 3px solid #d4af37;
            flex-wrap: wrap;
        }
        .tab-button {
            flex: 1;
            min-width: 140px;
            padding: 15px;
            background: #f5f5f5;
            border: none;
            cursor: pointer;
            font-size: 0.95em;
            font-weight: 600;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            text-align: center;
        }
        .tab-button:hover { background: #efefef; color: #d4af37; }
        .tab-button.active { background: white; color: #d4af37; border-bottom-color: #d4af37; }
        .tab-content { padding: 40px; display: none; animation: fadeIn 0.3s ease; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .tab-content h2 {
            color: #d4af37;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 2px solid #d4af37;
            padding-bottom: 10px;
        }
        h3 { color: #333; margin: 20px 0 15px 0; font-size: 1.3em; }
        p { color: #555; margin-bottom: 12px; }
        .highlight {
            background: #fffacd;
            padding: 15px;
            border-left: 4px solid #d4af37;
            margin: 20px 0;
            border-radius: 4px;
        }
        .key-points {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .key-points li { margin-bottom: 10px; color: #333; list-style-position: inside; }
        .interactive-box {
            background: #f0f8ff;
            border: 2px solid #d4af37;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .interactive-box h4 { color: #d4af37; margin-bottom: 15px; }
        button {
            background: #d4af37;
            color: #1a1a1a;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1em;
            transition: all 0.3s ease;
            margin: 8px 8px 8px 0;
        }
        button:hover {
            background: #c9a227;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);
        }
        input[type="text"], textarea {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 2px solid #d4af37;
            border-radius: 6px;
            font-size: 1em;
            font-family: inherit;
            transition: all 0.3s ease;
        }
        input[type="text"]:focus, textarea:focus {
            outline: none;
            border-color: #c9a227;
            box-shadow: 0 0 8px rgba(212, 175, 55, 0.2);
        }
        .quiz-question {
            background: #f0f8ff;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .quiz-question p { font-weight: 600; margin-bottom: 15px; color: #333; }
        .quiz-options { display: flex; flex-direction: column; gap: 10px; }
        .quiz-option {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
            background: white;
            transition: all 0.3s ease;
            font-size: 0.95em;
        }
        .quiz-option:hover { border-color: #d4af37; background: #fffacd; }
        .quiz-option.correct { background: #90EE90; border-color: #32CD32; color: #1a1a1a; font-weight: 600; }
        .quiz-option.incorrect { background: #FFB6C6; border-color: #FF1493; color: #1a1a1a; }
        .results {
            background: #e8f5e9;
            border: 2px solid #4caf50;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
        }
        .results.fail { background: #ffebee; border-color: #f44336; }
        .results h3 { color: #2e7d32; margin-bottom: 10px; }
        .results.fail h3 { color: #c62828; }
        .score { font-size: 2em; font-weight: bold; color: #2e7d32; margin: 10px 0; }
        .results.fail .score { color: #c62828; }
        .timer { font-size: 1.5em; font-weight: bold; color: #d4af37; text-align: center; margin: 20px 0; }
        .challenge-card {
            background: white;
            border: 2px solid #d4af37;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
        }
        .challenge-card h4 { color: #d4af37; margin-bottom: 10px; }
        .progress-container {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .progress-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        .progress-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid #d4af37;
            border-radius: 4px;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            background: white;
        }
        .progress-checkbox.completed {
            background: #d4af37;
            color: white;
        }
        @media (max-width: 768px) {
            .tab-button { min-width: 100px; padding: 12px; font-size: 0.85em; }
            .header h1 { font-size: 1.8em; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Lesson 15: Review & Integration Applications</h1>
            <p>Capstone lesson integrating all memory techniques in real-world scenarios</p>
        </div>
        <div class="tabs-container">
            <button class="tab-button active" onclick="switchTab(event, 'retrieval')">Retrieval</button>
            <button class="tab-button" onclick="switchTab(event, 'content')">New Content</button>
            <button class="tab-button" onclick="switchTab(event, 'practice')">Guided Practice</button>
            <button class="tab-button" onclick="switchTab(event, 'elaboration')">Elaboration</button>
            <button class="tab-button" onclick="switchTab(event, 'independent')">Independent</button>
            <button class="tab-button" onclick="switchTab(event, 'final')">Final Retrieval</button>
        </div>

        <div id="retrieval" class="tab-content active">
            <h2>Retrieval: Course Review</h2>
            <p>Let's review the major techniques from the entire Art of Memory course.</p>
            <div class="quiz-question">
                <p>Which technique is best for memorizing abstract information?</p>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, true)">A) Vivid imagery conversion</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">B) Rote repetition</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">C) Passive reading</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">D) Ignoring it</div>
                </div>
            </div>
            <div class="quiz-question">
                <p>Memory palaces work primarily through which mechanism?</p>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, false)">A) Auditory encoding</div>
                    <div class="quiz-option" onclick="checkAnswer(this, true)">B) Spatial and visual encoding</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">C) Semantic analysis</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">D) Time-based encoding</div>
                </div>
            </div>
            <button onclick="scrollToTab('content')">Continue →</button>
        </div>

        <div id="content" class="tab-content">
            <h2>New Content: Integration Framework</h2>
            <h3>The Memory Technique Hierarchy</h3>
            <p>Different situations call for different techniques. Here's when to use each:</p>
            <div class="key-points">
                <ul>
                    <li><strong>Names & Faces:</strong> Immediate social situations (networking, meetings)</li>
                    <li><strong>Playing Cards:</strong> Competitive memory challenges, party tricks</li>
                    <li><strong>Presentations:</strong> Professional speaking, lectures, speeches</li>
                    <li><strong>Mind Maps:</strong> Complex conceptual information, study prep</li>
                    <li><strong>Memory Palace:</strong> Large amounts of information, long-term storage</li>
                </ul>
            </div>

            <h3>Real-World Scenarios</h3>
            <div class="interactive-box">
                <h4>Scenario Integration Examples:</h4>
                <p><strong>Business Conference:</strong> Use face-feature method for attendees, palace for key takeaways, mind map for competitor strategies</p>
                <p><strong>Student Exam Prep:</strong> Mind maps for outlining, palace for chronological events, cards for vocabulary</p>
                <p><strong>Professional Presentation:</strong> Palace for speech structure, confidence anchoring for delivery, embedded card challenge for engagement</p>
                <p><strong>Sales Pitch:</strong> Palace + anchoring for structure, names/faces for client relationships, props as palace locations</p>
            </div>

            <h3>Spaced Repetition & Consolidation</h3>
            <div class="highlight">
                <strong>The Memory Maintenance Schedule:</strong><br>
                Day 1: Initial encoding<br>
                Day 3: First review (50% retention without review)<br>
                Day 7: Second review (30% without review)<br>
                Day 30: Third review (20% without review)<br>
                Every 6 months: Maintenance review
            </div>

            <h3>Combining Techniques</h3>
            <p>The most powerful approach combines multiple techniques:</p>
            <div class="key-points">
                <ul>
                    <li>Palace as structure, vivid imagery as content</li>
                    <li>Mind map as planning tool, palace as delivery system</li>
                    <li>Face-feature method + palace for social events</li>
                    <li>Card system + palace for complex sequences</li>
                </ul>
            </div>
            <button onclick="scrollToTab('practice')">Continue →</button>
        </div>

        <div id="practice" class="tab-content">
            <h2>Guided Practice: Mixed Technique Challenge</h2>
            <p>Let's practice combining multiple techniques in a single scenario.</p>
            
            <div class="challenge-card">
                <h4>Scenario: Corporate Networking Event</h4>
                <p>You're attending a 1-hour networking event where you'll meet 5 people. Your goal: Remember all their names, faces, jobs, and a key talking point for each.</p>
                <p style="margin-top: 15px;"><strong>Your approach:</strong></p>
                <ul style="list-style-position: inside; color: #666; margin-left: 0;">
                    <li>Face-feature method for names</li>
                    <li>Mind map for company information</li>
                    <li>Palace for conversation sequence</li>
                </ul>
            </div>

            <button onclick="startMixedPractice()">Start Mixed Challenge</button>

            <div id="mixed-practice-display" style="display:none; margin-top: 30px;">
                <div class="interactive-box">
                    <h4>Person <span id="mixed-count">1</span>/5</h4>
                    <p style="margin-bottom: 20px;" id="mixed-info"></p>
                    
                    <p><strong>Step 1: Face Feature</strong></p>
                    <textarea placeholder="What's distinctive about their face?" style="height: 50px; margin-bottom: 15px;" id="mixed-face"></textarea>
                    
                    <p><strong>Step 2: Name Image</strong></p>
                    <textarea placeholder="How will you remember their name?" style="height: 50px; margin-bottom: 15px;" id="mixed-name"></textarea>
                    
                    <p><strong>Step 3: Palace Location</strong></p>
                    <input type="text" placeholder="Which room/location in your palace?" id="mixed-palace" style="margin-bottom: 15px;">
                    
                    <button onclick="nextMixedPerson()">Next Person</button>
                </div>
            </div>

            <div id="mixed-summary" style="display:none; margin-top: 30px;">
                <div class="results">
                    <h3>Practice Complete!</h3>
                    <p>You've successfully used integrated techniques to remember 5 people at a networking event.</p>
                </div>
            </div>
        </div>

        <div id="elaboration" class="tab-content">
            <h2>Elaboration: Mastery Principles</h2>
            <h3>The 5 Pillars of Memory Mastery</h3>
            <div class="key-points">
                <ul>
                    <li><strong>Intention:</strong> Consciously decide to remember something</li>
                    <li><strong>Vivid imagery:</strong> Make mental images absurd, colorful, exaggerated</li>
                    <li><strong>Spaced rehearsal:</strong> Review at strategic intervals</li>
                    <li><strong>Integration:</strong> Connect new information to existing knowledge</li>
                    <li><strong>Application:</strong> Actually use the techniques in real situations</li>
                </ul>
            </div>

            <h3>From Conscious to Automatic</h3>
            <div class="highlight">
                When you first use these techniques, they require conscious effort and mental resources. With practice, they become automatic. Eventually, you'll naturally create vivid images and link information without thinking about it—just like skilled athletes or musicians.
            </div>

            <h3>Avoiding Common Pitfalls</h3>
            <div class="interactive-box">
                <h4>Common Mistakes:</h4>
                <p><strong>1. Boring images:</strong> Images must be vivid, absurd, and exaggerated</p>
                <p><strong>2. Lack of practice:</strong> Techniques only work with repeated application</p>
                <p><strong>3. No spaced review:</strong> Without review, memories fade within 24 hours</p>
                <p><strong>4. Single technique obsession:</strong> Different information needs different approaches</p>
                <p><strong>5. Perfectionism:</strong> Good-enough memory beats perfect procrastination</p>
            </div>
            <button onclick="scrollToTab('independent')">Continue →</button>
        </div>

        <div id="independent" class="tab-content">
            <h2>Independent Practice: Timed Competition</h2>
            <p>Compete across multiple memory challenges using different techniques. Track your scores!</p>
            
            <div class="progress-container">
                <h3 style="color: #d4af37; margin-bottom: 20px;">Memory Olympics</h3>
                <div class="progress-item">
                    <div class="progress-checkbox" id="check-cards" onclick="toggleChallenge('cards-challenge')"></div>
                    <div style="flex: 1;">
                        <strong>Challenge 1: Card Memory (10 cards)</strong>
                        <p style="color: #999; font-size: 0.9em;">Memorize 10 cards in 30 seconds, recall in order</p>
                    </div>
                    <span id="cards-score" style="color: #d4af37; font-weight: bold;"></span>
                </div>
                <div class="progress-item">
                    <div class="progress-checkbox" id="check-names" onclick="toggleChallenge('names-challenge')"></div>
                    <div style="flex: 1;">
                        <strong>Challenge 2: Names & Faces (5 people)</strong>
                        <p style="color: #999; font-size: 0.9em;">Meet 5 people, recall their names</p>
                    </div>
                    <span id="names-score" style="color: #d4af37; font-weight: bold;"></span>
                </div>
                <div class="progress-item">
                    <div class="progress-checkbox" id="check-numbers" onclick="toggleChallenge('numbers-challenge')"></div>
                    <div style="flex: 1;">
                        <strong>Challenge 3: Numbers & Sequences (20 digits)</strong>
                        <p style="color: #999; font-size: 0.9em;">Memorize 20-digit sequence, recall accuracy</p>
                    </div>
                    <span id="numbers-score" style="color: #d4af37; font-weight: bold;"></span>
                </div>
            </div>

            <div id="cards-challenge" style="display:none; margin-top: 30px; padding: 30px; background: #f0f8ff; border-radius: 8px; border: 2px solid #d4af37;">
                <h3 style="color: #d4af37; margin-bottom: 20px;">Card Memory Challenge</h3>
                <p style="margin-bottom: 20px;">Study these 10 cards for 30 seconds:</p>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(50px, 1fr)); gap: 10px; margin-bottom: 30px;" id="cards-display"></div>
                <div class="timer">Time: <span id="cards-timer">30</span>s</div>
                <p style="color: #666; text-align: center; margin-top: 20px;">Cards will be hidden when timer ends. Then you'll recall them in order.</p>
            </div>

            <div id="names-challenge" style="display:none; margin-top: 30px; padding: 30px; background: #f0f8ff; border-radius: 8px; border: 2px solid #d4af37;">
                <h3 style="color: #d4af37; margin-bottom: 20px;">Names & Faces Challenge</h3>
                <p>Click "Start" to meet 5 people. For each, create a memorable image linking their name to a distinctive feature.</p>
                <button onclick="startNamesChallenge()">Start</button>
            </div>

            <div id="numbers-challenge" style="display:none; margin-top: 30px; padding: 30px; background: #f0f8ff; border-radius: 8px; border: 2px solid #d4af37;">
                <h3 style="color: #d4af37; margin-bottom: 20px;">Numbers Challenge</h3>
                <p style="margin-bottom: 20px;">Study this 20-digit number for 60 seconds:</p>
                <div style="background: white; padding: 20px; border-radius: 8px; text-align: center; font-size: 1.5em; letter-spacing: 8px; font-weight: bold; color: #d4af37; margin-bottom: 20px;" id="number-display"></div>
                <div class="timer">Time: <span id="numbers-timer">60</span>s</div>
                <p style="color: #666; text-align: center; margin-top: 20px;">After studying, you'll be asked to recall the number.</p>
            </div>

            <div id="final-score-display" style="display:none; margin-top: 30px;"></div>
        </div>

        <div id="final" class="tab-content">
            <h2>Final Retrieval: Master Course Exam</h2>
            <div class="quiz-question">
                <p><strong>Q1:</strong> What is the primary benefit of combining multiple memory techniques?</p>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, true)">A) Different information types benefit from different encoding approaches</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">B) It makes memory harder</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">C) Only one technique ever works</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">D) It's unnecessary</div>
                </div>
            </div>
            <div class="quiz-question">
                <p><strong>Q2:</strong> Which memory process is LEAST important for long-term retention?</p>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, false)">A) Initial encoding</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">B) Spaced review</div>
                    <div class="quiz-option" onclick="checkAnswer(this, true)">C) Passive re-reading without engagement</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">D) Integration with prior knowledge</div>
                </div>
            </div>
            <div class="quiz-question">
                <p><strong>Q3:</strong> Memory techniques work primarily by:</p>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, false)">A) Increasing IQ</div>
                    <div class="quiz-option" onclick="checkAnswer(this, true)">B) Leveraging natural brain strengths (visual, spatial, semantic)</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">C) Replacing normal memory</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">D) Creating photographic memory</div>
                </div>
            </div>
            <div class="quiz-question">
                <p><strong>Q4:</strong> What is the biggest difference between beginners and memory champions?</p>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, false)">A) Natural talent</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">B) Genetics</div>
                    <div class="quiz-option" onclick="checkAnswer(this, true)">C) Consistent practice with memory techniques</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">D) Age</div>
                </div>
            </div>
            <div class="quiz-question">
                <p><strong>Q5:</strong> The most powerful memory technique combines:</p>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, false)">A) Only palaces</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">B) Only imagery</div>
                    <div class="quiz-option" onclick="checkAnswer(this, true)">C) Spatial (palace), visual (images), semantic (meaning), kinesthetic (movement)</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">D) Rote repetition</div>
                </div>
            </div>
            <button onclick="scoreCourseFinal()">Calculate Final Score</button>
            <div id="final-results"></div>
        </div>
    </div>

    <script>
        let mixedCount = 0, mixedMems = [];
        const cardList = ['A♥', '5♣', 'K♦', '3♠', 'Q♥', '9♣', '2♦', '10♠', '7♥', '6♣'];
        const peopleList = [
            {name: "Sarah", desc: "Bright blue eyes", feature: "Eyes"},
            {name: "Marcus", desc: "Bold beard", feature: "Beard"},
            {name: "Elena", desc: "High cheekbones", feature: "Cheekbones"},
            {name: "James", desc: "Warm smile", feature: "Smile"},
            {name: "Jessica", desc: "Red hair", feature: "Hair"}
        ];

        function switchTab(e, id) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            e.target.classList.add('active');
        }
        function checkAnswer(el, correct) {
            el.parentElement.querySelectorAll('.quiz-option').forEach(o => o.style.pointerEvents = 'none');
            el.classList.add(correct ? 'correct' : 'incorrect');
        }
        function startMixedPractice() {
            mixedCount = 0;
            mixedMems = [];
            document.querySelector('#practice button').style.display = 'none';
            document.getElementById('mixed-practice-display').style.display = 'block';
            showMixedPerson();
        }
        function showMixedPerson() {
            if(mixedCount < 5) {
                const people = [
                    {name: "Sarah Chen", job: "Product Manager", feature: "Bright blue eyes"},
                    {name: "Marcus Johnson", job: "Engineer", feature: "Bold beard"},
                    {name: "Elena Rodriguez", job: "Designer", feature: "High cheekbones"},
                    {name: "James Williams", job: "Sales", feature: "Warm smile"},
                    {name: "Jessica Lee", job: "Marketing", feature: "Red hair"}
                ];
                const p = people[mixedCount];
                document.getElementById('mixed-count').textContent = mixedCount + 1;
                document.getElementById('mixed-info').textContent = `${p.name} - ${p.job}. Key feature: ${p.feature}`;
                document.getElementById('mixed-face').value = '';
                document.getElementById('mixed-name').value = '';
                document.getElementById('mixed-palace').value = '';
            }
        }
        function nextMixedPerson() {
            const face = document.getElementById('mixed-face').value.trim();
            const name = document.getElementById('mixed-name').value.trim();
            const palace = document.getElementById('mixed-palace').value.trim();
            if(!face || !name || !palace) { alert('Complete all fields!'); return; }
            mixedMems.push({face, name, palace});
            mixedCount++;
            if(mixedCount < 5) {
                showMixedPerson();
            } else {
                document.getElementById('mixed-practice-display').style.display = 'none';
                document.getElementById('mixed-summary').style.display = 'block';
            }
        }
        function toggleChallenge(id) {
            const el = document.getElementById(id);
            if(el.style.display === 'none') {
                el.style.display = 'block';
                if(id === 'cards-challenge') startCardsChallenge();
                else if(id === 'names-challenge') startNamesChallenge();
                else if(id === 'numbers-challenge') startNumbersChallenge();
            } else {
                el.style.display = 'none';
            }
        }
        function startCardsChallenge() {
            let html = '';
            cardList.forEach(c => {
                html += `<div style="background: #d4af37; color: white; padding: 15px; border-radius: 6px; text-align: center; font-weight: bold;">${c}</div>`;
            });
            document.getElementById('cards-display').innerHTML = html;
            let t = 30;
            const timer = setInterval(() => {
                t--;
                document.getElementById('cards-timer').textContent = t;
                if(t <= 0) {
                    clearInterval(timer);
                    document.getElementById('cards-display').style.display = 'none';
                    document.getElementById('cards-timer').parentElement.innerHTML = 'Time\'s up! How many can you recall?';
                    let input = '<div style="margin-top: 20px;"><textarea placeholder="Enter cards in order..." id="cards-recall" style="width: 100%; height: 100px;"></textarea><button onclick="scoreCards()" style="margin-top: 10px;">Score Cards</button></div>';
                    document.getElementById('cards-challenge').innerHTML += input;
                }
            }, 1000);
        }
        function startNamesChallenge() {
            document.querySelector('#names-challenge button').style.display = 'none';
            let html = '<div style="margin-top: 20px;">';
            peopleList.forEach((p, i) => {
                html += `<div style="margin-bottom: 15px; padding: 15px; background: white; border-radius: 6px; border-left: 4px solid #d4af37;">
                    <p><strong>${p.name}</strong> - Feature: ${p.feature}</p>
                    <textarea placeholder="Your memory connection..." class="names-recall" data-index="${i}" style="width: 100%; height: 60px;"></textarea>
                </div>`;
            });
            html += '<button onclick="scoreNames()" style="margin-top: 20px;">Score Names</button></div>';
            document.getElementById('names-challenge').innerHTML += html;
        }
        function startNumbersChallenge() {
            const num = Math.random().toString().substr(2, 20);
            document.getElementById('number-display').textContent = num.substring(0, 10) + ' ' + num.substring(10);
            let t = 60;
            const timer = setInterval(() => {
                t--;
                document.getElementById('numbers-timer').textContent = t;
                if(t <= 0) {
                    clearInterval(timer);
                    document.getElementById('number-display').style.display = 'none';
                    let input = `<div style="margin-top: 20px;"><textarea placeholder="Recall the 20-digit number..." id="numbers-recall" style="width: 100%; height: 80px;"></textarea><button onclick="scoreNumbers('${num}')" style="margin-top: 10px;">Score Numbers</button></div>`;
                    document.getElementById('numbers-challenge').innerHTML += input;
                }
            }, 1000);
        }
        function scoreCards() {
            const recall = document.getElementById('cards-recall').value.trim();
            alert('Card challenge scored: ' + recall.split(' ').length + ' cards attempted');
        }
        function scoreNames() {
            alert('Names challenge completed!');
        }
        function scoreNumbers(num) {
            const recall = document.getElementById('numbers-recall').value.trim();
            alert('Numbers challenge scored!');
        }
        function scoreCourseFinal() {
            let correct = 0;
            document.querySelectorAll('#final .quiz-question').forEach(q => {
                if(q.querySelector('.quiz-option.correct')) correct++;
            });
            const pct = Math.round(correct/5*100);
            const res = document.createElement('div');
            res.className = pct >= 80 ? 'results' : pct >= 60 ? 'results' : 'results fail';
            res.innerHTML = `
                <h3>${pct >= 90 ? 'Outstanding!' : pct >= 80 ? 'Excellent!' : pct >= 60 ? 'Good!' : 'Keep practicing!'}</h3>
                <div class="score">${correct}/5 (${pct}%)</div>
                <p style="margin-top: 15px; font-size: 1.05em;">Congratulations on completing The Art of Memory course!</p>
                <p>You now have the tools to dramatically improve your memory across all domains—from names and faces to complex information and professional presentations.</p>
            `;
            document.getElementById('final-results').appendChild(res);
            document.querySelector('#final button').style.display = 'none';
        }
        function scrollToTab(id) {
            const tabs = ['retrieval', 'content', 'practice', 'elaboration', 'independent', 'final'];
            const idx = tabs.indexOf(id);
            document.querySelectorAll('.tab-button')[idx].click();
            window.scrollTo({top: 0, behavior: 'smooth'});
        }
    </script>
</body>
</html>
